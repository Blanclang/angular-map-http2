[{"Id":1, "PathName":"/webapi/demo", "Method":"get", "Status":1, "Content":{"rules": [{"id": 1, "sql": "select * from xtn_userinfo where username = ':username' and password = ':password'", "name": "admininfo", "type": "query", "isRows": false}, {"id": 100, "sql": "select count(1) total, sex,cityname,age from xtn_userinfo where id = :id_judge", "name": "judgeInfo_100", "type": "query", "isRows": false, "isMergeOption": true}, {"id": 10, "sql": "", "type": "judge", "judgeInfo": {"failMsg": "用户存在", "strByThis": "if((this.sex === '男' && this.cityname == '上海' ) || (this.age > 30 && this.cityname !== '北京')){return true;}return false;", "strByEval1": "(':sex' !== '男' && ':cityname' == '北京' ) || (:age > 30 && ':cityname' !== '北京')", "chilrenRules": [{"id": 11, "sql": "select * from xtn_userinfo where sex = ':sex'", "name": "peoples_sex", "type": "query", "isRows": true}, {"id": 12, "sql": "select * from xtn_userinfo where sex = ':sex' and cityname = ':cityname' ", "name": "peoples_sex_city", "type": "query", "isRows": true}]}}, {"id": 2, "sql": "select * from xtn_userinfo where id> :id", "name": "userlist", "type": "query", "isRows": true}, {"id": 3, "type": "beginTran"}, {"id": 4, "sql": "update xtn_userinfo t set t.tel=':tel' where t.id = :id1", "name": "update_info", "type": "update", "isRows": false}, {"id": 5, "sql": "select * from xtn_userinfo where id = :id1", "name": "id1_info", "type": "query", "isRows": false}, {"id": 6, "sql": "insert into xtn_userinfo(username,password,tel,address) values(uuid_short(),md5(now()),':tel','哈哈');", "name": "InsertNo", "type": "insert"}, {"id": 7, "sql": "select * from xtn_userinfo t where t.id = :InsertNo", "name": "insert_result11", "type": "query", "isRows": false}, {"id": 9, "sql": "select count(1) total from xtn_userinfo ", "name": "insert_total1", "type": "query", "isRows": false}, {"id": 10, "sql": "delete from xtn_userinfo where id = :InsertNo - 5", "name": "delete_result", "type": "delete"}, {"id": 11, "type": "commit"}, {"id": 13, "sql": "select count(1) total from xtn_userinfo ", "name": "insert_total2", "type": "query", "isRows": false}], "fields": "username,password,id,tel,id1,id_judge", "result": 1}, "IsSystem":1, "CreateTime":"2017-07-09 11:44:41", "IsTokenAccess":0, "Bewrite":"\u63a5\u53e3\u8bd5\u4f8b"},
 {"Id":2, "PathName":"/webapi/manager/api/list", "Method":"get", "Status":1, "Content":{"rules": [{"id": 1, "sql": "select \n(case t.status when 1 then '启用' when 0 then '禁用' end) StatusCn,\n(case t.Method when 'get' then '查询' when 'post' then '添加' when 'put' then '修改' else '删除' end) MethodCn,\nt.* from sys_rule t;", "type": "query", "isRows": true}], "fields": "", "result": 1}, "IsSystem":1, "CreateTime":"2017-07-16 14:01:56", "IsTokenAccess":1, "Bewrite":"\u63a5\u53e3\u5217\u8868"},
 {"Id":3, "PathName":"/webapi/manager/api/info", "Method":"delete", "Status":1, "Content":{"rules": [{"id": 1, "sql": "select count(1) total, IsSystem from sys_rule t where t.id = :Id", "type": "query", "isMergeOption": true}, {"id": 2, "type": "judge", "judgeInfo": {"failMsg": "系统规则不能删除", "strByThis": "if(this.IsSystem===1){return false;}return true;"}}, {"id": 3, "sql": "delete from sys_rule where Id = :Id", "type": "delete"}], "fields": "Id", "result": 1}, "IsSystem":1, "CreateTime":"2017-07-26 00:22:03", "IsTokenAccess":1, "Bewrite":"\u5220\u9664\u63a5\u53e3"},
 {"Id":4, "PathName":"/webapi/manager/api/add", "Method":"post", "Status":1, "Content":{"rules": [{"id": 1, "sql": "", "type": "judge", "judgeInfo": {"strByThis": "if(this.Id>0){return false;}return true;", "resultIndex": 101, "chilrenRules": [{"id": 100, "sql": "update sys_rule set PathName = ':PathName', Method = ':Method',\nIsTokenAccess= :IsTokenAccess, Status = :Status, Bewrite = ':Bewrite',\nContent = ':RuleInfo' \nwhere id = :Id", "type": "update", "judgeInfo": {}}, {"id": 101, "sql": "select \n(case t.status when 1 then '启用' when 0 then '禁用' end) StatusCn,\n(case t.Method when 'get' then '查询' when 'post' then '添加' when 'put' then '修改' else '删除' end) MethodCn,\nt.* from sys_rule t where t.id = :Id", "name": "rule_info", "type": "query", "judgeInfo": {}}]}}, {"id": 2, "sql": "select count(1) total,t.id RuleId from sys_rule t where t.PathName = ':PathName' and t.Method = ':Method'", "type": "query", "isMergeOption": true}, {"id": 3, "type": "judge", "judgeInfo": {"failMsg": "已经存在，执行更新操作。", "strByThis": "if(this.total > 0){return false;} return true", "resultIndex": 301, "chilrenRules": [{"id": 300, "sql": "update sys_rule set PathName = ':PathName', Method = ':Method',\nIsTokenAccess= :IsTokenAccess, Status = :Status, Bewrite = ':Bewrite',\nContent = ':RuleInfo' \nwhere id = :RuleId", "type": "update", "judgeInfo": {}}, {"id": 301, "sql": "select \n(case t.status when 1 then '启用' when 0 then '禁用' end) StatusCn,\n(case t.Method when 'get' then '查询' when 'post' then '添加' when 'put' then '修改' else '删除' end) MethodCn,\nt.* from sys_rule t where t.id = :RuleId", "name": "rule_info", "type": "query", "judgeInfo": {}}]}}, {"id": 4, "sql": "INSERT INTO sys_rule (PathName,Method,Status,IsTokenAccess,Bewrite,Content)\nVALUES(':PathName', ':Method', :Status, :IsTokenAccess, ':Bewrite', ':RuleInfo')", "name": "InsertNo", "type": "insert"}, {"id": 5, "sql": "select \n(case t.status when 1 then '启用' when 0 then '禁用' end) StatusCn,\n(case t.Method when 'get' then '查询' when 'post' then '添加' when 'put' then '修改' else '删除' end) MethodCn,\nt.* from sys_rule t where t.id = :InsertNo", "name": "rule_info", "type": "query"}], "fields": "PathName,Method,Status,RuleInfo,Id,IsTokenAccess,Bewrite", "result": 5}, "IsSystem":1, "CreateTime":"2017-07-28 00:07:15", "IsTokenAccess":1, "Bewrite":"\u63a5\u53e3\u4fee\u6539\u3001\u63d2\u5165\uff0c\u63a5\u53e3\u4e0d\u5b58\u5728\u5c31\u63d2\u5165\uff0c\u5b58\u5165\u5c31\u4fee\u6539"},
 {"Id":5, "PathName":"/webapi/manager/api/info", "Method":"put", "Status":1, "Content":{"rules": [{"id": 1, "sql": "update sys_rule set PathName = ':PathName', Method = ':Method',\nIsTokenAccess= :IsTokenAccess, Status = :Status, Bewrite = ':Bewrite',\nContent = ':RuleInfo' \nwhere id = :Id", "type": "update"}, {"id": 2, "sql": "select \n(case t.status when 1 then '启用' when 0 then '禁用' end) StatusCn,\n(case t.Method when 'get' then '查询' when 'post' then '添加' when 'put' then '修改' else '删除' end) MethodCn,\nt.* from sys_rule t where t.id = :Id", "name": "rule_info", "type": "query"}], "fields": "PathName,Method,Status,RuleInfo,Id,IsTokenAccess,Bewrite", "result": 2}, "IsSystem":1, "CreateTime":"2017-07-28 00:09:06", "IsTokenAccess":1, "Bewrite":"\u4fee\u6539\u63a5\u53e3"},
 {"Id":7, "PathName":"/webapi/userinfo/user", "Method":"delete", "Status":1, "Content":{"rules": [{"id": 1, "sql": "delete from xtn_userinfo where id = :id ", "type": "delete"}], "fields": "id", "result": 1}, "IsSystem":0, "CreateTime":"2017-07-16 13:32:39", "IsTokenAccess":1, "Bewrite":"\u5220\u9664\u7528\u6237\uff0c\u4f20\u7528\u6237id\u53c2\u6570"},
 {"Id":8, "PathName":"/webapi/userinfo/register", "Method":"post", "Status":1, "Content":{"rules": [{"id": 1, "sql": "select count(1) total from xtn_userinfo t where t.username = ':UserName'", "name": "user_total", "type": "query", "isMergeOption": true}, {"id": 2, "type": "judge", "judgeInfo": {"failMsg": "用户已存在！！", "strByEval": "", "strByThis": "if(this.total>0){return false;}return true;"}}, {"id": 3, "sql": "insert into xtn_userinfo\n(username,password,tel,address,sex,age,cityname) values\n(':UserName',':Password',':Tel',':Address','男',floor( 15 + rand()*50),'北京')", "type": "insert"}], "fields": "UserName,Password,Tel,Address", "result": 1}, "IsSystem":0, "CreateTime":"2017-07-26 00:08:35", "IsTokenAccess":0, "Bewrite":"\u7528\u6237\u6ce8\u518c\uff0c\u5982\u679c\u7528\u6237\u540d\u5df2\u7ecf\u5b58\u5728\uff0c\u63d0\u793a\u7528\u6237\u540d\u5df2\u5b58\u5728\u3002\u5426\u5219\u6ce8\u518c\u6210\u529f"},
 {"Id":10, "PathName":"/webapi/userinfo/login", "Method":"post", "Status":1, "Content":{"rules": [{"id": 1, "sql": "select count(1) total,id,concat('xtn_',md5(username),'_',md5(password))token, username,sex,cityname,age from xtn_userinfo t where t.username = ':username' and t.password = ':password'", "type": "query", "isMergeOption": true}, {"id": 2, "type": "judge", "judgeInfo": {"failMsg": "用户名或密码不正确", "strByEval": "", "strByThis": "if(this.total<=0){return false;}return true"}}, {"id": 3, "sql": "delete from sys_session where token = ':token' ;", "type": "delete"}, {"id": 3, "sql": "insert into sys_session(token,UserId,deadline)values(':token',:id, date_add( current_timestamp,interval 1 month)) ; ", "type": "insert"}], "fields": "username,password", "result": 1}, "IsSystem":0, "CreateTime":"2017-07-27 23:55:02", "IsTokenAccess":0, "Bewrite":"\u7528\u6237\u767b\u5f55,\u4fee\u6539username,password\u53c2\u6570"},
 {"Id":11, "PathName":"/webapi/userinfo/users", "Method":"get", "Status":1, "Content":{"rules": [{"id": 1, "sql": "select * from xtn_userinfo t order by t.id desc", "name": "UserList", "type": "query", "isRows": "true"}], "fields": "", "result": 1}, "IsSystem":0, "CreateTime":"2017-07-09 20:45:32", "IsTokenAccess":1, "Bewrite":"\u7528\u6237\u5217\u8868"},
 {"Id":12, "PathName":"/webapi/base/area", "Method":"get", "Status":1, "Content":{"rules": [{"id": 1, "sql": "select t.AreaId,t.ParentId,t.AreaName from xtn_base_area t ", "name": "AreaList", "type": "query", "isRows": true}], "result": 1}, "IsSystem":0, "CreateTime":"2017-07-30 10:01:09", "IsTokenAccess":0, "Bewrite":"\u7701\u5e02\u533a\u63a5\u53e3"},
 {"Id":13, "PathName":"/webapi/base/AreaById", "Method":"get", "Status":1, "Content":{"rules": [{"id": 1, "sql": "select t.AreaId,t.ParentId,t.AreaName from xtn_base_area t where t.ParentId = :Id", "name": "AreaList", "type": "query", "isRows": true}], "fields": "Id", "result": 1}, "IsSystem":0, "CreateTime":"2017-07-30 10:06:42", "IsTokenAccess":0, "Bewrite":"\u6839\u636eID\u83b7\u53d6\u5bf9\u5e94\u7684\u7701\uff0c\u5e02\u533a\u7b49\u4fe1\u606f"},
 {"Id":14, "PathName":"/webapi/map/place", "Method":"post", "Status":1, "Content":{"rules": [{"id": 1, "sql": "insert into xtn_map_place(userId,Latitude,Longitude,BeginDate,EndDate,Address)values\n(:UserId,':Latitude',':Longitude',':BeginDate',':EndDate',':Address')", "name": "InsertNo", "type": "insert"}, {"id": 2, "sql": "select * from xtn_map_place t where t.id = :InsertNo", "name": "map_place", "type": "query"}], "fields": "UserId,Address,BeginDate,EndDate,Latitude,Longitude", "result": 2}, "IsSystem":0, "CreateTime":"2017-08-01 00:36:48", "IsTokenAccess":1, "Bewrite":"\u6dfb\u52a0\u805a\u4f1a\u70b9\u63a5\u53e3"}]